<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta lang="en-us">
        <meta name="author" content="Kenny">
        <meta name="purpose" content="Excren Encryption Tasks">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<link rel="stylesheet" type="text/css" href="http://www.mhsbyte.org/Excren/stylesheet.css"/>
        <title>Excren Encryption Tasks</title>
    </head>
    <body>
        <div class="page">
            <div class="title">
				<h1>Excren Tasks</h1>
			</div>
			<div class="sidebar">
				<a href="https://cryptography-rentarosatomi5201.c9.io/index.html">Excren Encrytion Main Page</a>
			</div>
			<div class="content">
			    <h3>Dicipher this Word</h3>
			    <div class="word">
			        <p id="word"></p>
			    </div>
			    <div class="user_input">
			        <label>Your Answer</label>
			        <br>
			        <input id="user_input" name="text" placeholder="Your Answer">
			        <br>
			        <button onclick="dicipher()">Submit</button>
			        <br>
			        <p id="result"></p>
			    </div>
			</div>
            <script type="text/javascript">
                var words = ["Serve", "Scissors", "Text", "Encryption", "Papel", "Submissions", "Hello", "pneumonoultramicroscopicsilicovolcanoconiosis", "a",];    
                var chioce = Math.floor((Math.random() * words.length)+ 1);
                var wordChoice = words[chioce];
                var date = new Date();
				var key = date.getMilliseconds();
				var time = key;
				
				key %= 60;
				
				encryption();
				
				function change_char(index, char, string){
					return string.substring(0, index) + char + string.substring(index + 1, index + string.length);
				}
				
				function new_word(){
                    chioce = Math.floor(Math.random(0, words.length));
                    wordChoice = words[chioce];
				}
				
				function encryption(){
				    var res = document.getElementById('word');
				    
					for(var i = 0; i < wordChoice.length; i++){
						var str;
						var code = wordChoice.charCodeAt(i);
						
						code -= key;

						str = String.fromCharCode(code);
						
						wordChoice = change_char(i, str, wordChoice);
						
						res.innerHTML = time+": "+wordChoice;
					}
				}
				
				function dicipher(){
				    var input = document.getElementById('user_input').value;
				    var res = document.getElementById('result');
					
					if(words[chioce] == input){
					    res.innerHTML = "Correct";
					    
					    new_word();
					}
				}
                
            </script>
        </div>
    </body>
</html>
